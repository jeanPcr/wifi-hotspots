doctype html
html(lang='en')
  head
    meta(charset='utf-8')
    meta(name='viewport' content='width=device-width, initial-scale=1, shrink-to-fit=no')
    meta(name='description' content='')
    meta(name='author' content='')
    title Hotspots Paris
    // Favicon
    link(rel='icon' type='image/x-icon' href='assets/img/favicon.ico')
    // Font Awesome icons (free version)
    script(src='https://use.fontawesome.com/releases/v5.15.1/js/all.js' crossorigin='anonymous')
    // Google fonts
    link(href='https://fonts.googleapis.com/css?family=Montserrat:400,700' rel='stylesheet' type='text/css')
    link(href='https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic' rel='stylesheet' type='text/css')
    // Core theme CSS (includes Bootstrap)
    link(href='http://localhost:7894/vendor/bootstrap/css/styles.css' rel='stylesheet')
    //leaflet
    link(rel='stylesheet' href='http://localhost:7894/vendor/leaflet/leaflet.css')
  body#page-top
    // Navigation
    nav#mainNav.navbar.navbar-expand-lg.bg-secondary.text-uppercase.fixed-top
      .container
        a.navbar-brand.js-scroll-trigger(href='#page-top') Hotspots Paris
        button.navbar-toggler.navbar-toggler-right.text-uppercase.font-weight-bold.bg-primary.text-white.rounded(type='button' data-toggle='collapse' data-target='#navbarResponsive' aria-controls='navbarResponsive' aria-expanded='false' aria-label='Toggle navigation')
          | Menu
          i.fas.fa-bars
        #navbarResponsive.collapse.navbar-collapse
          ul.navbar-nav.ml-auto
            li.nav-item.mx-0.mx-lg-1
              a.nav-link.py-3.px-0.px-lg-3.rounded.js-scroll-trigger(href='#page-top') Accueil
            li.nav-item.mx-0.mx-lg-1
              a.nav-link.py-3.px-0.px-lg-3.rounded.js-scroll-trigger(href='#list') Liste
            li.nav-item.mx-0.mx-lg-1
              a.nav-link.py-3.px-0.px-lg-3.rounded.js-scroll-trigger(href='#map') Carte
    // Masthead
    header.masthead.bg-primary.text-white.text-center
      .container.d-flex.align-items-center.flex-column
        // Masthead Avatar Image
        img.masthead-avatar.mb-5(src='http://localhost:7894/assets/img/logo.png' alt='wifi logo')
        // Masthead Heading
        h1.masthead-heading.text-uppercase.mb-0 Hotspots in PARIS
        // Icon Divider
        .divider-custom.divider-light
          .divider-custom-line
          .divider-custom-icon
            i.fas.fa-wifi
          .divider-custom-line
        // Masthead Subheading
        p.masthead-subheading.font-weight-light.mb-0 Find a wifi hotspot around you.
    // List Section
    section#list.page-section.list
      .container
        // List Section Heading
        h2.page-section-heading.text-center.text-uppercase.text-secondary.mb-0 List of all wifi hotspots.
        // Icon Divider
        .divider-custom
          .divider-custom-line
          .divider-custom-icon
            i.fas.fa-list
          .divider-custom-line

        .overflow-auto(style='height: 500px;')
           ul.list-group
            each hotspot in hotspots
              li.list-group-item=hotspot.fields.nom_site

        
   
    // Map Section
    section#map.page-section.bg-primary.text-white.mb-0
      .container
        // Map Section Heading
        h2.page-section-heading.text-center.text-uppercase.text-white.mb-0 Map of WiFi access points
        // Icon Divider
        .divider-custom.divider-light
          .divider-custom-line
          .divider-custom-icon
            i.fas.fa-map
          .divider-custom-line

        #mapid(style='height: 500px;')
      
    // Footer
    footer.footer.text-center
      .container
        .row
          // Footer Location
          .col-lg-4.mb-5.mb-lg-0
            h4.text-uppercase.mb-4 Location
            p.lead.mb-0
              | 2215 John Daniel Drive
              br
              |                             Clark, MO 65243
          // Footer Social Icons
          .col-lg-4.mb-5.mb-lg-0
            h4.text-uppercase.mb-4 Around the Web
            a.btn.btn-outline-light.btn-social.mx-1(href='#!')
              i.fab.fa-fw.fa-facebook-f
            a.btn.btn-outline-light.btn-social.mx-1(href='#!')
              i.fab.fa-fw.fa-twitter
            a.btn.btn-outline-light.btn-social.mx-1(href='#!')
              i.fab.fa-fw.fa-linkedin-in
            a.btn.btn-outline-light.btn-social.mx-1(href='#!')
              i.fab.fa-fw.fa-dribbble
          // Footer About Text
          .col-lg-4
            h4.text-uppercase.mb-4 About Freelancer
            p.lead.mb-0
              | Freelance is a free to use, MIT licensed Bootstrap theme created by
              a(href='http://startbootstrap.com') Start Bootstrap
              |                             .
    // Copyright Section
    .copyright.py-4.text-center.text-white
      .container
        small Copyright Â© Your Website 2020
    // Scroll to Top Button (Only visible on small and extra-small screen sizes)
    .scroll-to-top.d-lg-none.position-fixed
      a.js-scroll-trigger.d-block.text-center.text-white.rounded(href='#page-top')
        i.fa.fa-chevron-up
   
    // Bootstrap core JS
    script(src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js')
    script(src='https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js')
    // Third party plugin JS
    script(src='https://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.4.1/jquery.easing.min.js')
    // Core theme JS
    script(src='http://localhost:7894/vendor/bootstrap/js/scripts.js')
    //leaflet
    script(src='http://localhost:7894/vendor/leaflet/leaflet.js')
    script.
      var mymap = L.map('mapid').setView([48.853, 2.35], 13);
      
      L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
         maxZoom: 19,
         attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
         }).addTo(mymap);;

      var marker = L.marker([48.853, 2.35]).addTo(mymap);
      
      // Add marker for each hotspot wifi
      let hotspots = !{JSON.stringify(hotspots)};

      for(const hotspot of hotspots){
        // console.log(hotspot);
        var marker = L.marker([hotspot.geometry.coordinates[1],hotspot.geometry.coordinates[0]]).addTo(mymap);
        marker.bindPopup(hotspot.fields.nom_site);
      }

